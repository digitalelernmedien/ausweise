<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Startseite</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <main id="main-content">
    <h1 id="title">Was möchten Sie suchen?</h1>
    <p id="subtitle" class="subtitle">Bitte wählen Sie eine Kategorie aus.</p>

    <!-- Kacheln -->
    <div class="tile-container">
      <div class="tile" id="tile-personen">
        <i data-feather="users" class="tile-icon"></i>
        <span>Personen</span>
      </div>

      <div class="tile" id="tile-fahrzeuge">
        <i data-feather="truck" class="tile-icon"></i>
        <span>Fahrzeuge</span>
      </div>

      <div class="tile" id="tile-sachen">
        <i data-feather="package" class="tile-icon"></i>
        <span>Sachen</span>
      </div>
    </div>
  </main>



  <!-- Settings -->
  <div id="settings-menu">
    <button data-lang="de">Deutsch</button>
    <button data-lang="fr">Französisch</button>
  </div>
  <div id="backdrop"></div>

  <!-- Feather Icons -->
  <script src="https://unpkg.com/feather-icons"></script>

  <!-- Kachel-Events -->
  <script>
    document.getElementById('tile-personen').addEventListener('click', () => {
      window.location.href = 'search.html';
    });
    document.getElementById('tile-fahrzeuge').addEventListener('click', () => {
      window.location.href = 'search-vehicles.html';
    });
    document.getElementById('tile-sachen').addEventListener('click', () => {
      window.location.href = 'search-items.html';
    });
  </script>

  <!-- Footer: Buttons definieren -->
  <script>
    // Auf der Startseite nur Info + Sprache
    window.footerButtons = ['info', 'speech'];
  </script>
  <script src="footer.js"></script>

  <!-- Infomodal Text aus JSON laden -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const lang = localStorage.getItem('appLang') || (navigator.language.startsWith('fr') ? 'fr' : 'de');
      fetch('infomodal.json')
        .then(res => res.json())
        .then(data => {
          const infoData = data.info_text[lang];
          if(infoData){
            document.getElementById('modal-title').innerHTML = infoData.title;
            document.getElementById('modal-body').innerHTML = infoData.body;
            document.getElementById('modal-functions-title').innerHTML = infoData.functions_title;
            const list = document.getElementById('modal-functions-list');
            list.innerHTML = '';
            infoData.functions.forEach(fn => {
              const li = document.createElement('li');
              li.innerHTML = fn;
              list.appendChild(li);
            });
            document.getElementById('modal-warning').innerHTML = infoData.warning;
            document.getElementById('modal-credits').innerHTML = infoData.credits;
          }
        })
        .catch(err => console.error("Fehler beim Laden von infomodal.json:", err));
    });
  </script>
</body>
</html>
